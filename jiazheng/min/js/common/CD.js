!function(a){var b,c=a;if(b="undefined"==typeof c.QNR?c.QNR={}:c.QNR,!b._TRAVEL_INIT_){b._TRAVEL_INIT_=!0;var d=c.document,e=Object.prototype,f=Array.prototype,g=e.toString,h=e.hasOwnProperty,i=/^\s+/,j=/\s+$/,k={map:function(a,b,c){for(var d=a.length,e=new Array(d),f=0;d>f;f++)f in a&&(e[f]=b.call(c,a[f],f,a));return e},forEach:function(a,b,c){for(var d=0,e=a.length;e>d;d++)d in a&&b.call(c,a[d],d,a)},filter:function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)e in a&&b.call(c,a[e],e,a)&&d.push(a[e]);return d},some:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(d in a&&b.call(c,a[d],d,a))return!0;return!1},every:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(d in a&&!b.call(c,a[d],d,a))return!1;return!0},indexOf:function(a,b,c){var d=a.length;for(c|=0,0>c&&(c+=d),0>c&&(c=0);d>c;c++)if(c in a&&a[c]===b)return c;return-1},lastIndexOf:function(a,b,c){var d=a.length;for(c|=0,(!c||c>=d)&&(c=d-1),0>c&&(c+=d);c>-1;c--)if(c in a&&a[c]===b)return c;return-1},contains:function(a,b){return k.indexOf(a,b)>=0},clear:function(a){a.length=0},remove:function(a){for(var b=-1,c=1;c<arguments.length;c++)for(var d=arguments[c],e=0;e<a.length;e++)d===a[e]&&(0>b&&(b=e),a.splice(e--,1));return b},unique:function(a){for(var b=[],c=null,d=Array.indexOf||k.indexOf,e=0,f=a.length;f>e;e++)d(b,c=a[e])<0&&b.push(c);return b},reduce:function(a,b,c){var d=a.length,e=0;if(arguments.length<3){for(var f=0;d>e;e++)if(e in a){c=a[e++],f=1;break}if(!f)throw new Error("No component to reduce")}for(;d>e;e++)e in a&&(c=b(c,a[e],e,a));return c},reduceRight:function(a,b,c){var d=a.length,e=d-1;if(arguments.length<3){for(var f=0;e>-1;e--)if(e in a){c=a[e--],f=1;break}if(!f)throw new Error("No component to reduceRight")}for(;e>-1;e--)e in a&&(c=b(c,a[e],e,a));return c},expand:function(a){return[].concat.apply([],a)},toArray:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b},wrap:function(a,b){return new b(a)}};for(var l in k)!function(a){f.hasOwnProperty(a)?b[a]=function(){var b=f.slice.call(arguments,0),c=b.splice(0,1)[0];return f[a].apply(c,b)}:(b[a]=k[a],f[a]=function(){var b=this;return k[a].apply(null,[b].concat([].slice.call(arguments,0)))})}(l);for(var m in k)!function(a){f.hasOwnProperty(a)||(f[a]=raiders.helper.methodize(k[a]))}(m);var n=b.forEach,o=(b.some,b.indexOf),p=function(a){var b=a.toString();return b.trim?b.trim():b.replace(i,"").replace(j,"")},q={};n("Boolean Number String Function Array Date RegExp Object".split(" "),function(a){q["[object "+a+"]"]=a.toLowerCase()},q);var r=function(a){return null==a?String(a):q[g.call(a)]||"object"},s=function(a){return"function"===r(a)},t=Array.isArray||function(a){return"array"===r(a)},u=function(a){return a&&"object"==typeof a&&"setInterval"in a},v=function(a,b){var c=f.slice.call(arguments,2);return function(){var d=f.slice.call(arguments,0);return d=c.concat(d),s(a)?a.apply(b,d):function(){console.error("proxy func is  not function")}}},w=function(){this._eventList={}};w.prototype={constructor:w,_getOne:function(a){return this._eventList[a]||(this._eventList[a]=[])},bind:function(a,b,c){if("object"!==r(a)){c&&(b=v(b,c));var d=this._getOne(a);return d.fired?(b(d.args),this):(this._getOne(a).push(b),this)}for(var e in a)this.bind(e,a[e],c)},unbind:function(a,b){var c=this._getOne(a);if(b){var d=o(c,b);d>-1&&c.slice(d,1)}else c.length=0},trigger:function(a){var b,c=(this._getOne(a)||[],f.slice.call(arguments,1)),d=this;return n(this._getOne(a),function(a){return b=a.apply(d,c),b===!1?!0:void 0}),b},once:function(a,b,c){var d=this,e=function(){b.apply(c||d,arguments),d.unbind(a,e)};return d.bind(a,e),e},delay:function(a,b){var c=f.slice.call(arguments,2),d=this;return setTimeout(function(){d.trigger.apply(d,a.concat(c))},b||10)},triggerReady:function(a){var b=this._getOne(a),c=f.slice.call(arguments,1);n(b,function(a){return"function"!=typeof a?null:a.apply(null,c)}),b.fired=!0,b.args=c}},w.prototype.fire=w.prototype.trigger,w.prototype.on=w.prototype.bind;var x=function(a,b,c){var d=function(){};d.prototype=b.prototype;var e=a.prototype;return a.prototype=new d,a.prototype.constructor=a,a.$super=b,y(a.prototype,e,c,!0),a},y=function(a){var b=arguments.length,c=!1,d=f.slice.call(arguments,1,b);return"boolean"===r(arguments[b-1])&&(c=arguments[b-1],d=f.slice.call(arguments,1,b-1)),n(d,function(b){for(var d in b)("undefined"===r(a[d])||c)&&(a[d]=b[d])}),a};y(b,{_config:{debug:!0},type:r,trim:p,extend:x,mix:y,proxy:v,Event:w,isFunction:s,isArray:t,isWindow:u,isEmpty:function(a){if(t(a)||"string"===r(a))return 0===a.length;for(var b in a)if(h.call(a,b))return!1;return!0},HTMLEncode:function(a){return(a||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},countStr:function(a){for(var b=0,c=0,d=a.length;d>c;c++)a.charCodeAt(c)>128?b++:b+=.5;return b},subStr:function(a,b,c){if(!a)return"";for(var d=0,e=!1,f=[],g=0,h=a.length;h>g;g++){if(d+=a.charCodeAt(g)>127?1:.5,d>b){e=!0;break}f.push(a.charAt(g))}return f.join("")+(e?"undefined"!=typeof c?c:"...":"")},getHashParams:function(){var b=a.location.hash||"#",c={},d=b.replace(/.*?#.*?!/,"");return n(d.split("&"),function(a){var b=a.split("=");c[b[0]]=b[1]}),c},formatDate:function(a,b){b=b||"yyyy-MM-dd";var c=a.getFullYear().toString(),d={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};b=b.replace(/(y+)/gi,function(a,b){return c.substr(4-Math.min(4,b.length))});for(var e in d)b=b.replace(new RegExp("("+e+"+)","g"),function(a,b){return d[e]<10&&b.length>1?"0"+d[e]:d[e]});return b},plusDay:function(a,b){var c=864e5;return new Date(a.getTime()+b*c)}}),b.namespace=function(a,b){if(!a||!a.length)return null;for(var c=a.split("."),d="QNR"==c[0]?1:0,e=c.length,f=this;e>d;d++)"undefined"===r(f[c[d]])&&(f[c[d]]={}),f=f[c[d]];return s(b)&&b.call(f,this),f},function(b){function c(a){return x[a]?x[a].status||null:null}function e(a){for(var b in a)return!1;return!0}var f,g={},h={},i=[],j=[],k=function(a){return/^\/\/\/?/.test(a)&&(a=location.protocol+a),a},l=function(){for(var a,b=d.getElementsByTagName("link"),c=b.length;c;)a=b[--c],"stylesheet"!=a.rel&&"text/css"!=a.type||!a.href||(g[k(a.href)]=!0);for(b=d.getElementsByTagName("script"),c=b.length;c;)a=b[--c],a.type&&"text/javascript"!=a.type||!a.src||(g[k(a.src)]=!0);l=function(){}},m=function(a){var c,d,e=i;for(delete h[a],g[a]=!0,d=0;d<e.length;d++)c=e[d],delete c.resources[a],b.isEmpty(c.resources)&&(c.callback&&c.callback(),e.splice(d--,1))},o=function(){for(var a=d.styleSheets,b=a.length,c=j;b--;){var e=a[b],g=e.ownerNode||e.owningElement,h=c.length;if(g)for(;h--;)g==c[h]&&(m(c[h]["data-href"]),c.splice(h,1))}c.length||(clearInterval(f),f=null)},p=function(a){var b=d.createElement("script"),c=function(){b.onload=b.onerror=b.onreadystatechange=null,m(a)};y(b,{type:"text/javascript",src:a},!0),b.onload=b.onerror=c,b.onreadystatechange=function(){var a=this.readyState;("complete"==a||"loaded"==a)&&c()},d.getElementsByTagName("head")[0].appendChild(b)},q=function(a){var b=d.createElement("link");if(y(b,{type:"text/css",rel:"stylesheet",href:a,"data-href":a},!0),d.getElementsByTagName("head")[0].appendChild(b),b.attachEvent){var c=function(){m(a)};b.onload=c}else j.push(b),f||(f=setInterval(o,20))},s=function(a,b){var c,d={};l(),a=t(a)?a:[a];for(var e=0,f=a.length;f>e;e++)c=k(a[e]),d[c]=!0,g[c]?setTimeout(v(m,null,c),0):h[c]||(h[c]=!0,c.match(/[\?\.]css$/)?q(c):p(c));b&&i.push({resources:d,callback:b})};b.loadJS=function(a,b){s(a,b)},b.loadCSS=function(a,b){s(a,b)},b.loadListJs=b.loadSource=function(a,b){s(a,b)};var u="LOADING",w="LOADED",x={};b.loadModule=function(d,f,g){var h=g||a.QZZ_TRAVEL_MODULES;if(!h)return console.error("没有SRC的配置项"),void 0;if(c(d)===w){for(var i,j=x[d].callbacks;i=j.shift();)"function"===r(i)&&i();return"function"===r(f)&&f(),void 0}var k,l=h[d],m={};if("string"===r(l))k=[l];else if("array"===r(l))k=l;else{if("object"!==r(l))return console.error("需要加载的M格式错误 。。",d,l),void 0;k=l.src;var o=l.depends;"array"===r(o)?n(o,function(a){m[a]=a}):"string"===r(o)&&(m[o]=o)}var p=function(){if(x[d]){if(c(d)===u)return f&&x[d].callbacks.push(f),"function"===r(f)&&x[d].callbacks.push(f),void 0}else x[d]={status:u,callbacks:[]},"function"===r(f)&&x[d].callbacks.push(f);b.loadSource(k,function(){x[d].status=w;for(var a,b=x[d].callbacks;a=b.shift();)"function"===r(a)&&a()})};if(e(m))p();else for(var q in m)!function(a){b.loadModule(a,function(){delete m[a],e(m)&&p()},h)}(q)}}(b);var z=a.navigator.userAgent.toLowerCase(),A=function(a){return a.test(z)},B=A(/opera/),C=A(/\bchrome\b/),D=A(/webkit/),E=!C&&D,F=A(/msie/)&&d.all&&!B,G=A(/msie 7/),H=A(/msie 8/),I=A(/msie 9/),J=A(/msie 10/),K=F&&!G&&!H&&!I&&!J,L=A(/gecko/)&&!D,M=A(/mac/);b.Browser={isOpera:B,isChrome:C,isWebKit:D,isSafari:E,isIE:F,isIE7:G,isIE8:H,isIE9:I,isIE6:K,isGecko:L,isMac:M},b.clickLog=function(a,b){var c=new Image;c.width=1,c.height=1,c.src="http://bc.qunar.com/clk?s="+a+"&a="+b+"&t="+Math.random()},b.DEBUG=!1,a.console||(a.console={log:function(){},error:function(){},info:function(){}}),c.QN=c.QNR,"function"==typeof define&&define("js/common/CD",[],function(a,c,d){d.exports=b}),b.PubSub=new b.Event}}(window);